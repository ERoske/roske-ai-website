---
interface Props {
  title?: string;
  href?: string;
  external?: boolean;
  class?: string;
}

const { title, href, external = false, class: className = '' } = Astro.props;
const Tag = href ? 'a' : 'div';
const linkProps = href ? {
  href,
  ...(external ? { target: '_blank', rel: 'noopener noreferrer' } : {}),
} : {};
---

<Tag
  {...linkProps}
  class:list={[
    "block rounded-xl p-6 transition-all duration-300",
    "dark:bg-white/[0.03] dark:border dark:border-white/[0.06] dark:hover:border-[var(--color-accent)]/30 dark:hover:bg-white/[0.06]",
    "bg-white border border-black/[0.06] hover:border-[var(--color-accent)]/30 hover:shadow-lg",
    "backdrop-blur-sm",
    href ? "cursor-pointer group hover:-translate-y-1" : "",
    className,
  ]}
>
  {title && (
    <h3 class="text-lg font-semibold mb-2 dark:text-white text-[var(--color-primary)] group-hover:text-[var(--color-accent)] transition-colors">
      {title}
      {href && external && (
        <svg class="w-4 h-4 inline-block ml-1 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
        </svg>
      )}
    </h3>
  )}
  <div class="dark:text-[var(--color-text-muted)] text-[var(--color-text-dark-muted)] text-sm leading-relaxed">
    <slot />
  </div>
</Tag>
